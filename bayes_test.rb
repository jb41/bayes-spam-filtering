#encoding: utf-8
require './naive_bayes'
require 'pp'


b = NaiveBayes.new(['not_spam', 'spam'])

# training
b.train('spam', "Ihr Freund, ***EMERGENCY MESSAGE TO ALL CITIZENS~~The GREATEST CONSPIRACY Of Mankind EXPOSED......., hat dieses Produkt vibrator Potency Pump bei GayShop.dk gefunden. Dear Friends,The energy industry dictates who has access to life and who doesn`t.If you look where the funding comes from, it`s easy to make connections between the energy, pharmaceutical, health, food and educational industries.http://brandonpowermotor.gu.ma/at what has been concealed from us and what`s becoming increasingly transparent.The old saying applies here: `If you think you know all the answers,then you just haven`t heard all the questions!` So, this material is just an introduction to the subject andnot an encyclopedia of every known device. http://brandonpowermotor.gu.ma/http://brandonpowermotor.gu.ma/to learn what`s all aboutIf you were making a profit of literally millions per hour,would you welcome the introduction of a system which would eventuallycut your income to zero? If not, then how much would you be willing topay someone to make sure that the present system is never changed- a million? A billion? What they do, how they are made and how they may operate when they draw additional energy from the local environment. http://brandonpowermotor.gu.ma/http://brandonpowermotor.gu.ma/Don`t hesitate! It will change your life.GOD BLESS US ALL!Best Regards...Brandon")
b.train('spam', "Sign Up For free, get laid for LIFE! Trying t ofind the perfect hookup is hard! That's why we created FuckBook! No gimmicks, no bullshit! Just free access to millions of members looking for casual adult fun in your area!!! Click bellow and join free: click here")
b.train('spam', "Dear recipient, Avangar Technologies announces the beginning of a new unprecendented global employment campaign.reviser yeller winers butchery twenties Due to company's exploding growth Avangar is expanding business to the European region. During last employment campaign over 1500 people worldwide took part in Avangar's business and more than half of them are currently employed by the company. And now we are offering you one more opportunity to earn extra money working with Avangar Technologies. druggists blame classy gentry Aladdin We are looking for honest, responsible, hard-working people that can dedicate 2-4 hours of their time per day and earn extra Â£300-500 weekly. All offered positions are currently part-time and give you a chance to work mainly from home. lovelies hockey Malton meager reordered Please visit Avangar's corporate web site (http://www.avangar.com/sta/home/0077.htm) for more details regarding these vacancies. bespeak plur")
b.train('spam', "If you own a travel related website, why not submit your site to our directory.Just select the appropriate category and subcategory and enter your title anddescription.Click here to start: http://www.holprop-travel-directory.com   This footnote confirms that this email message has been swept by Anti VirusSoftware for the presence of computer viruses.To unsubscribé from this publication simply reply to this email with the wordremove in the subjéct line orhttp://www.holprop-travel-directory/remove.asp to enter your email address. If youwould like to contact us, please use our online form, do not reply to this email asthis email address is not monitored.")
b.train('spam', "Hello I am emailing you as we found your holiday property at [Source] and would love you to list it on our website for free: http://www.holidayrentals.org This web site now has over 1000 holiday rentals listed in less than 2 months, so please register and then add as many properties as you wish. All for free forever If we have emailed you by accident because you have a bed and breakfast, hotel or something similar then we are sorry but we cannot at present accept your properties. We are working on a site for this purpose. Many thanks Peter www.holidayrentals.org")

b.train('not_spam', "The conference is taking place in Wrocław, March 14-16th 2014. Mark that day in your calendar and wait for the news about open ticket sale. Michael Feathers (The Author of Working Effectively with Legacy Code) is going to be with us this year. After Rails usage skyrocketed few years ago, now we have to deal we all the code written by successful startups few years ago which might be bringing lot of money today but is also often tremendously hard to maintain right now. Michael has done a lot in the past to help us deal with such projects. Find out more about Michael way of thinking by reading his blog: http://michaelfeathers.typepad.com/ . Even his last blog post about Unconditional Programming has very nice examples in Ruby. And his second blog https://michaelfeathers.silvrback.com/ is also full of good content. We are honored Michael is going to join us.")
b.train('not_spam', "Last week we selected first few talks submitted to our Call For Papers. Michał Taszycki sent us a proposal which fits very well with our vision of where Ruby is and where Ruby is going. We believe Ruby is better and stronger than ever! With the rise of technologies like Rubymotion, Opal and Ruboto, you can write once and run the same Ruby code everywhere. That's what Michał is going to show us with his talk: \"Ruby - write once, run anywhere\". This vision is an extension of the 'let's create more modular Ruby code in our apps' approach and fits well with the \"more modular Rails\" discussion that is happening. What if your Rails code could be reused for the mobile app? What if it can be reused for the JavaScript part? Wouldn't that be cool? Watch previous Michał Taszycki talks at: https://www.youtube.com/watch?v=2pmQk27i1PM - Programmer Productivity fishbowl (30m) Sales is not open yet but it will be soon. We will notify you about it in next time. Normal ticket is going to cost you only 60€. If you believe in the same values as we do, you can become our supporter. Contact us at all@wrocloverb.com to get supporter ticket for 600€. In return you will receive 1 ticket, your company logo at the beginning of all the videos published after conference - https://www.youtube.com/user/wrocloverb your company logo with a link on the home page of our conference - http://wrocloverb.com/ fame forever")
b.train('not_spam', "Hi Michał, Unfortunately Braintree is currently unable to provide a solution for your business model as our Marketplace (split-payments) solution is limited to the US, and we cannot support third party payment aggregation in the EU.   A Marketplace solution would be the best fit for your model, Marketplace allows merchants to split an incoming payment to multiple parties, so in this case a percentage could be directed to your company and a percentage to the service/goods provider. Unfortunately this solution is currently limited to US market (merchants and sub-merchants), and while we’re working diligently to bring this offering to Europe and the rest of the world, there is no ETA at the moment. As you can imagine, there are many different compliancy and regulations we need to comply with, so not an easy process. As noted above, Braintree is currently unable to support third party payment aggregation (TPPA) in the EU. TPPA is when your business accepts payments on behalf of the service/goods provider, takes a fee/percentage, and then passes the remainder to the service provider. Braintree does not yet have a banking partner that will underwrite this business model in the EU. Braintree is actively working to expand its range of support – I will let you know if there are changes in the future that impact our ability to provide a solution for your business.  In the meantime I would check out  PayPal's chained payments solution and PayMill.Best Regards,Alex")
b.train('not_spam', "Hi Michael, Thank you for your inquiry regarding Recurly. I wanted to introduce myself and work to answer your question.  Recurly does not support transferring payment from one user to another, and do not support ACH payments. We do work directly with Braintree and other payment gateways to facilitate automating recurring payments for subscription plans, and other various one time charges in and around those plans. Please let me know if you have any additional questions about our product. Best, Marisa")
b.train('not_spam', "During the training, there were a few times I seriously considered quitting. In every one of those moments, I thought back to the scene around that dinner table on New Year’s Eve. I had confidently told 5 other people I was going to finish an Ironman and I didn’t want to have to explain that I quit. This is accountability…had I not mentioned by goal that night, the only person I would’ve let down is myself – that’s easy to stomach. But knowing others had expectations made it close to impossible for me to quit.")

# test
# not spam
text_01 = "Do something ambitious this year. Don’t be the person that plan to lose 20 lbs. and quits going to the gym a week in to it. After my experience this year, I believe everyone is capable of far more than they think. This could be the year you take that next big step. Whether it’s learning a new language, launching a new product, or finding your dream job. Tell someone about it. I promise you’ll second guess quitting."
text_02 = "Better still - get the customers to come to you I’ve been struggling with finding potential customers to interview for years - that’s why I’ve written so much about it. The interview process I describe above is great if you have lots of potential customer relationships. But what if you don’t? Here are some tactics that have worked for me: Start a Meetup or organize an event on the topic For some weird reason the world confers instant credibility on the person who organizes events. You may know nothing about Snooker but start the “Boston Snooker Meetup” - which only requires you to fill out a form and schedule an event at a bar - and suddenly you’re the expert."
text_03 = "Hello Alex, Thank you for your quick response. I am in phase of thinking, and so is my next question. Let's say there are two types of customers - customer Bill, and customer Sally. Bill puts item to sell on my webpage. Sally wants to buy it. Sally pays me, using Braintree. I want to take fee from Sallys payment and transfer the rest of the money to Bill. As far as I know it's not possible with Braintree, or am I wrong? If it's not, which system you recommend to work well with Braintree (integration, etc.)? Regards, Michał"
#spam
text_04 = "Hello, I have found your website latroba.co.uk by searching MSN for \"tourism marketing\". I think our websites has a similar theme, so I have already added your link to my website. You can find your link here: http://www.top1marketing.com/news/tourism-marketing.html Your link: http://www.latroba.co.uk/heritage.consultant/ Your link title: Heritage and tourism consultant - sustainable tourism marketing I would like you to add our link to your website too. Our link: http://www.top1marketing.com/news/tourism-marketing.html Our link title: Marketing - Tourism Marketing Description: Internet marketing resources. Advertising, website promotion and development. You can approve and modify your listing anytime by clicking link below: http://www.top1marketing.com/approve.php?key=b6edc7f7f2bc If you will not approve your listing in 10 days, link will be automatically removed. Why it is important to exchange links? - more links will increase your website popularity - more links will increase your PageRank - The more links you have - the more your website is important to search engines - The more your website is important to search engines - the more visitors you get - More visitors increase your sales and your website will become more popular Why it is important to exchange links with us? - Our website has similar theme like yours - Our website gets more than 1000 visitors every day (your website may receive some free visitors from our website too) - Our website has quality content - Our website is hosted on dedicated IP - Our website has a lot incoming links from other similar themed domains I wish you the best with your project and believe this link exchange can be useful for our websites by seeking better search engine ranking. If you have any questions, do not hesitate, contact me."
text_05 = "My Dear Beneficiary Very Important Information Regarding Your Outstanding Funds. I write to enquire from you if you have received your outstanding funds till now which the answer is NO. You have been under the cage of greedy and non authentic officials who has been deceiving you for a long time in the guise of releasing your funds which they do not have any authority to effect but rather than open up and let you know that they lack the capacity to release your funds, They decided to deceive you till now. I have communicated you long time ago and informed you that I am the only person in charge of your funds and I am the only person that can release your funds but it seems that you do not want to believe me due to the fact that you are under the cage and control of those unscrupulous elements/Unauthorized persons who has been deceiving you and requesting for one payment or the other from you till now when you are not required to pay any money to get your funds released to you. Infact if you want to receive your outstanding funds immediately, Kindly back to me via return mail to enable me give you details. You must keep this mail confidential until your fund is release to you. I will give you further details as soon as i hear from you. Your urgent attention is highly imperative. Yours Faithfully, Mrs. Sandra Sify Assistant Secretary to the consultant Office of Presidency"
text_06 = "1st Choice Vacation Rentals - 10th Anniversary Discount Did you know that vacation rental revenue is expected to increase by 11% this year (SOURCE: VRMA Report)?  What can you do to tap into the rebounding travel and vacation economy?  The smart place to start is to increase your marketing efforts.  I’m writing to you today because you need to list your vacation property on our websites, www.Choice1.com, www.ivacationhomes.com, and www.ivacationrental.com.  Since 1994 we’ve connected millions of renters with vacation property owners. Each year, over four million travelers visit our website at www.Choice1.com, making us an industry leader for online vacation rentals.  To celebrate our 10th Anniversary, we’re offering new customers like you an incredible 50% discount off our normal listing price of $199.95. We’ll list your vacation property on www.Choice1.com, www.ivacationhomes.com and www.ivacationrental.com with up to eight pictures, provide you with plenty of room for a text description of your property, and include a link to your main website for only $99 for your first year of service ($149.95 for Lake Tahoe and Orlando areas).  That's only $8.25 a month to increase your bookings and to be listed on three great websites!  As part of our standard service, you'll also have access to our Dynamic Customer Update sytem (DCU).  It allows you, the property owner, complete control over your listing - with our system, you only have to update your property listing in one place, and it will automatically be updated on all three websites.  Because our sites are dynamically driven, you can even update your listing, change pictures, or add testimonials at any time, in real-time!  When was the last time you had the chance to list your property on three great websites for the low price of $99?  To take advantage of this special offer, simply visit our website and reference Offer Code ANN99SP1.   1st Choice Vacation Rentals has been recognized by some of the world’s leading media outlets as one of the best places to list and rent vacation properties. New York Times columnist Bob Tedeshi affirmed this in his article about our company. Forbes has even recognized 1st Choice Vacation Rentals with its “Best of the Web” award.  We've earned a very good reputation in this industry: we're a member of the Vacation Rental Managers Association, we've been talked about by the Wall Street Journal, and you can read the good things our customers are saying about us.  If you have any questions about 1st Choice Vacation Rentals, please don’t hesitate to contact me. I can be reached by calling 1-800-343-2891, or by sending email to scott@Choice1.com.  Sincerely, Scott PhillipsVice President, 1st Choice Vacation Rentalsscott@Choice1.com1-800-343-2891Designers of www.Choice1.comand other Dynamic Websites P.S. We’re serious about celebrating our 10th Anniversary, and about listing your vacation property on www.Choice1.com, www.ivacationhomes.com, and www.ivacationrental.com!  That’s why I’m offering to list your vacation property for $99 on all three websites – a 50% discount off of our normal rate. To take advantage of this discounted rate of only $8.25 per month, please log onto our website and reference Offer Code ANN99SP1. Our number one goal is to keep you informed about what's happening with 1st Choice Vacation Rentals. We respect your privacy, and share your severe dislike to spam. If you'd prefer not to get future correspondence, simply reply to this message with the word DELETE in the subject line, and you will be taken off our list.  This offer is for new customers only and cannot be combined with any other offers.  Offer subject to change without notice."

pp b.probabilities(text_01)
puts "text_01 -- " + b.classify(text_01)
puts

pp b.probabilities(text_02)
puts "text_02 -- " + b.classify(text_02)
puts

pp b.probabilities(text_03)
puts "text_03 -- " + b.classify(text_03)
puts

pp b.probabilities(text_04)
puts "text_04 -- " + b.classify(text_04)
puts

pp b.probabilities(text_05)
puts "text_05 -- " + b.classify(text_05)
puts

pp b.probabilities(text_06)
puts "text_06 -- " + b.classify(text_06)
puts